# ğŸš€ Stripeæ”¯ä»˜é›†æˆå¿«é€Ÿå…¥é—¨æŒ‡å—

## ğŸ¯ ç®€ä»‹
æ­¤æŒ‡å—å¸®åŠ©æ‚¨å¿«é€Ÿä¸ºSybau Pictureé¡¹ç›®é›†æˆçœŸå®çš„Stripeæ”¯ä»˜ç³»ç»Ÿã€‚

## ğŸ“‹ å‰ç½®æ¡ä»¶
- âœ… å·²æ³¨å†ŒStripeè´¦æˆ·
- âœ… é¡¹ç›®å·²éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- âœ… å·²é…ç½®åŸŸåå’ŒSSLè¯ä¹¦

## ğŸ”§ å¿«é€Ÿè®¾ç½®ï¼ˆ3æ­¥å®Œæˆï¼‰

### Step 1: è¿è¡Œè‡ªåŠ¨é…ç½®è„šæœ¬
```bash
npm run stripe:setup
```
è¿™ä¸ªè„šæœ¬ä¼šäº¤äº’å¼åœ°æ”¶é›†æ‚¨çš„Stripeé…ç½®ä¿¡æ¯å¹¶è‡ªåŠ¨ç”Ÿæˆ`.env.local`æ–‡ä»¶ã€‚

### Step 2: åœ¨Stripe Dashboardåˆ›å»ºäº§å“
1. ç™»å½• [Stripe Dashboard](https://dashboard.stripe.com/)
2. åˆ›å»ºä»¥ä¸‹äº§å“ï¼š

#### Standardå¥—é¤
- äº§å“åç§°ï¼š`Sybau Picture - Standard Plan`
- æœˆä»˜ä»·æ ¼ï¼š$9.00 USD
- å¹´ä»˜ä»·æ ¼ï¼š$90.00 USDï¼ˆèŠ‚çœ17%ï¼‰

#### Proå¥—é¤
- äº§å“åç§°ï¼š`Sybau Picture - Pro Plan`
- æœˆä»˜ä»·æ ¼ï¼š$19.00 USD
- å¹´ä»˜ä»·æ ¼ï¼š$190.00 USDï¼ˆèŠ‚çœ17%ï¼‰

3. å¤åˆ¶æ¯ä¸ªä»·æ ¼çš„IDï¼Œæ›´æ–°åˆ°ç¯å¢ƒå˜é‡ä¸­

### Step 3: é…ç½®Webhook
1. åœ¨Stripe Dashboardä¸­åˆ›å»ºWebhookç«¯ç‚¹
2. ç«¯ç‚¹URLï¼š`https://your-domain.com/api/webhook/stripe`
3. é€‰æ‹©äº‹ä»¶ï¼š
   - `checkout.session.completed`
   - `customer.subscription.created`
   - `customer.subscription.updated`
   - `customer.subscription.deleted`
   - `invoice.payment_succeeded`
   - `invoice.payment_failed`

## ğŸ§ª æµ‹è¯•é…ç½®

### éªŒè¯é…ç½®
```bash
npm run stripe:verify
```

### æœ¬åœ°æµ‹è¯•Webhook
```bash
npm run stripe:test
```

### ä½¿ç”¨æµ‹è¯•å¡å·
- æˆåŠŸæ”¯ä»˜ï¼š`4242 4242 4242 4242`
- å¤±è´¥æ”¯ä»˜ï¼š`4000 0000 0000 0002`
- éœ€è¦éªŒè¯ï¼š`4000 0027 6000 3184`

## ğŸš€ éƒ¨ç½²

### æ›´æ–°ç”Ÿäº§ç¯å¢ƒå˜é‡
1. åœ¨Vercel Dashboardä¸­æ·»åŠ ç¯å¢ƒå˜é‡
2. ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒçš„Stripeå¯†é’¥ï¼ˆ`sk_live_`ã€`pk_live_`ï¼‰
3. é‡æ–°éƒ¨ç½²åº”ç”¨

### æ•°æ®åº“è®¾ç½®
```bash
npx prisma db push
npx prisma db seed
```

## ğŸ“Š ç›‘æ§

### æ”¯ä»˜ç›‘æ§
- åœ¨Stripe Dashboardä¸­ç›‘æ§æ”¯ä»˜çŠ¶æ€
- æ£€æŸ¥webhookäº‹ä»¶æ—¥å¿—
- ç›‘æ§è®¢é˜…çŠ¶æ€å˜åŒ–

### åº”ç”¨ç›‘æ§
- æ£€æŸ¥Vercelå‡½æ•°æ—¥å¿—
- ç›‘æ§æ•°æ®åº“è¿æ¥çŠ¶æ€
- éªŒè¯ç”¨æˆ·æƒé™æ›´æ–°

## ğŸ‰ å®Œæˆï¼

ç°åœ¨æ‚¨çš„Sybau Pictureé¡¹ç›®å·²ç»é›†æˆäº†å®Œæ•´çš„Stripeæ”¯ä»˜åŠŸèƒ½ï¼š

- ğŸ’³ å®‰å…¨çš„ä¿¡ç”¨å¡æ”¯ä»˜
- ğŸ”„ è‡ªåŠ¨è®¢é˜…ç®¡ç†
- ğŸ“Š å®æ—¶æ”¯ä»˜çŠ¶æ€æ›´æ–°
- ğŸ¯ åŸºäºå¥—é¤çš„åŠŸèƒ½é™åˆ¶
- ğŸ“ˆ æ”¯ä»˜åˆ†æå’ŒæŠ¥å‘Š

## ğŸ“š ç›¸å…³æ–‡æ¡£
- [è¯¦ç»†é›†æˆæŒ‡å—](./STRIPE_INTEGRATION_GUIDE.md)
- [ç°æœ‰è®¾ç½®æ–‡æ¡£](./STRIPE_SETUP.md)
- [Stripeå®˜æ–¹æ–‡æ¡£](https://stripe.com/docs)

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ
å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. è¿è¡Œ `npm run stripe:verify` æ£€æŸ¥é…ç½®
2. æŸ¥çœ‹Stripe Dashboardä¸­çš„äº‹ä»¶æ—¥å¿—
3. æ£€æŸ¥åº”ç”¨çš„é”™è¯¯æ—¥å¿—
4. å‚è€ƒè¯¦ç»†çš„é›†æˆæŒ‡å—
